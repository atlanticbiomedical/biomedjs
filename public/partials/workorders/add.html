<ul class="breadcrumb">
	<li><a href="/clients"><i class="icon-briefcase"></i> Workorders</a><span class="divider"></span><li>
	<li ng-hide="loading" class="active">New Workorder<li>
</ul>

<header>
	<h1>New Workorder</h1>
</header>
<div class="form">
	<div class="form-section">
		<div class="section-label">Client</div>
		<div class="section-container">
			<div class="form-editor">
				<div class="control-group">
					<label class="control-label">Client</label>
					<div class="controls">
						<select ui-select2 ng-model="model.client" data-placeholder="Choose a Client"  class="input-xxlarge">
							<option ng-repeat="client in clients" value="{{client._id}}">{{client.name}} ({{client.identifier}})</option>
						</select>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="form-section">
		<div class="section-label">Remarks</div>
		<div class="section-container">
			<div class="form-editor">
				<div class="control-group">
					<label class="control-label">Reason</label>
					<div class="controls">
						<select ng-model="model.reason" name="reason" class="input-xlarge" ng-disabled="{{workorderType == 'pm'}}">
							<option value="Add New Equipment">Add New Equipment</option>
							<option value="As Directed">As Directed</option>
							<option value="Autoclave Repair">Autoclave Repair</option>
							<option value="Calibration">Calibration</option>
							<option value="Delivery">Delivery</option>
							<option value="Diagnose Problem">Diagnose Problem</option>
							<option value="Install Parts">Install Parts</option>
							<option value="New Opportunity">New Opportunity</option>
							<option value="Off">Off</option>
							<option value="PM Reschedule">PM Reschedule</option>
							<option value="Preventive Maintenance">Preventive Maintenance</option>
							<option value="Printer Failure">Printer Failure</option>
							<option value="Repair">Repair</option>
						</select>
					</div>
				</div>
				<div class="control-group" ng-show="model.reason == 'Preventive Maintenance'">
					<label class="control-label">Maintenance Type</label>
					<div class="controls">
						<select ng-model="model.maintenanceType" name="maintenanceType" class="input-xlarge" ng-disabled="{{workorderType == 'pm'}}">
							<option value="anesthesia">anesthesia</option>
							<option value="annual">annual</option>
							<option value="ert">ert</option>
							<option value="imaging">imaging</option>
							<option value="medgas">medgas</option>
							<option value="neptune">neptune</option>
							<option value="quarterly">quarterly</option>
							<option value="rae">rae</option>
							<option value="semi">semi</option>
							<option value="sterilizer">sterilizer</option>
							<option value="tg">tg</option>
							<option value="legacy" disabled>legacy</option>
						</select>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">Remarks</label>
					<div class="controls">
						<textarea ng-model="model.remarks" name="remarks" rows="5" class="input-xxlarge"></textarea>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="form-section">
		<div class="section-label">Scheduling</div>
		<div class="section-container">
			<div class="form-editor">
				<div class="control-group">
					<label class="control-label">Date</label>
					<div class="controls">
						<input ng-model="picker.date" datepicker type="text" class="input-small">
						<select ng-model="picker.start" name="start" class="input-small">
							<option value="05:00:00">5:00am</option>
							<option value="05:30:00">5:30am</option>
							<option value="06:00:00">6:00am</option>
							<option value="06:30:00">6:30am</option>
							<option value="07:00:00">7:00am</option>
							<option value="07:30:00">7:30am</option>
							<option value="08:00:00">8:00am</option>
							<option value="08:30:00">8:30am</option>
							<option value="09:00:00">9:00am</option>
							<option value="09:30:00">9:30am</option>
							<option value="10:00:00">10:00am</option>
							<option value="10:30:00">10:30am</option>
							<option value="11:00:00">11:00am</option>
							<option value="11:30:00">11:30am</option>
							<option value="12:00:00">12:00pm</option>
							<option value="12:30:00">12:30pm</option>
							<option value="13:00:00">1:00pm</option>
							<option value="13:30:00">1:30pm</option>
							<option value="14:00:00">2:00pm</option>
							<option value="14:30:00">2:30pm</option>
							<option value="15:00:00">3:00pm</option>
							<option value="15:30:00">3:30pm</option>
							<option value="16:00:00">4:00pm</option>
							<option value="16:30:00">4:30pm</option>
							<option value="17:00:00">5:00pm</option>
							<option value="17:30:00">5:30pm</option>
							<option value="18:00:00">6:00pm</option>
							<option value="18:30:00">6:30pm</option>
							<option value="19:00:00">7:00pm</option>
							<option value="19:30:00">7:30pm</option>
							<option value="20:00:00">8:00pm</option>
							<option value="20:30:00">8:30pm</option>
							<option value="21:00:00">9:00pm</option>
							<option value="21:30:00">9:30pm</option>
							<option value="22:00:00">10:00pm</option>
						</select>
						<span>to</span>
						<select ng-model="picker.end" name="end" class="input-small">
							<option value="06:00:00">6:00am</option>
							<option value="06:30:00">6:30am</option>
							<option value="07:00:00">7:00am</option>
							<option value="07:30:00">7:30am</option>
							<option value="08:00:00">8:00am</option>
							<option value="08:30:00">8:30am</option>
							<option value="09:00:00">9:00am</option>
							<option value="09:30:00">9:30am</option>
							<option value="10:00:00">10:00am</option>
							<option value="10:30:00">10:30am</option>
							<option value="11:00:00">11:00am</option>
							<option value="11:30:00">11:30am</option>
							<option value="12:00:00">12:00pm</option>
							<option value="12:30:00">12:30pm</option>
							<option value="13:00:00">1:00pm</option>
							<option value="13:30:00">1:30pm</option>
							<option value="14:00:00">2:00pm</option>
							<option value="14:30:00">2:30pm</option>
							<option value="15:00:00">3:00pm</option>
							<option value="15:30:00">3:30pm</option>
							<option value="16:00:00">4:00pm</option>
							<option value="16:30:00">4:30pm</option>
							<option value="17:00:00">5:00pm</option>
							<option value="17:30:00">5:30pm</option>
							<option value="18:00:00">6:00pm</option>
							<option value="18:30:00">6:30pm</option>
							<option value="19:00:00">7:00pm</option>
							<option value="19:30:00">7:30pm</option>
							<option value="20:00:00">8:00pm</option>
							<option value="20:30:00">8:30pm</option>
							<option value="21:00:00">9:00pm</option>
							<option value="21:30:00">9:30pm</option>
							<option value="22:00:00">10:00pm</option>
						</select>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">Techs</label>
					<div class="controls">
						<select multiple ui-select2 ng-model="model.techs" data-placeholder="Choose a Tech - Check the schedule below before scheduling."  class="input-xxlarge">
							<option ng-repeat="tech in allUsers" value="{{tech._id}}">{{tech.name.first}} {{tech.name.last}}</option>
						</select>
					</div>
				</div>
				<div class="toolbelt" style="margin: 20px">
					<div class="pull-right">
			            <span class="toolbelt-text">Group: </span>
						<select ng-model="group" name="group" class="input-medium">
							<option ng-repeat="(key, value) in TECH_GROUPS" value="{{key}}">{{value}}</option>
						</select>
					</div>
				</div>
				<techpicker
					users="users"
					schedule="schedule"
					date="picker.date"
					start="picker.start"
					end="picker.end"></techpicker>
			</div>
		</div>
	</div>
	<div class="form-section">
		<div class="section-label">&nbsp;</div>
		<div class="section-container">
			<button ng-click="save()" type="button" class="btn btn-primary">Save</button>
		</div>
	</div>
</div>
